<section class="blog-add-section">
  <h1 class="blog-add-title">Blog OluÅŸtur</h1>

  {{#if error}}
    <div class="account-alert error">âŒ {{error}}</div>
  {{/if}}

  {{#if success}}
    <div class="account-alert success">âœ… {{success}}</div>
  {{/if}}

  <form
    action="/blog/olustur"
    method="POST"
    enctype="multipart/form-data"
    class="blog-add-form"
  >
    <div class="form-top">

      <input
        type="text"
        name="title"
        class="input-field"
        placeholder="BaÅŸlÄ±k"
        required
      />

      <div class="upload-wrapper">
        <label for="images" class="upload-label">ğŸ“ GÃ¶rsel Ekle</label>

        <input
          type="file"
          id="images"
          name="images"
          accept="image/*"
          multiple
          class="file-input"
        />

        <span id="file-count" class="file-count">HenÃ¼z gÃ¶rsel seÃ§ilmedi</span>
      </div>

    </div>

    <!-- Ã–NÄ°ZLEME KUTULARI -->
    <div id="preview-container" class="preview-container"></div>

    <textarea
      name="content"
      class="textarea-field"
      rows="10"
      placeholder="Blog metni..."
      required
    ></textarea>

    <div class="warning-box">
      <strong>UyarÄ±:</strong>
      Blog bÃ¶lÃ¼mÃ¼nde yanlÄ±ÅŸ, yanÄ±ltÄ±cÄ± veya doÄŸrulanmamÄ±ÅŸ iÃ§eriklere yer
      verilmeyecektir.
    </div>

    <button type="submit" class="submit-btn">PaylaÅŸ</button>
  </form>
</section>

<script>
  const input = document.getElementById("images"); const preview =
  document.getElementById("preview-container"); const fileCount =
  document.getElementById("file-count"); let selectedFiles = [];
  input.addEventListener("change", () => { selectedFiles = [...input.files];
  updatePreview(); }); function updatePreview() { preview.innerHTML = ""; if
  (selectedFiles.length === 0) { fileCount.textContent = "HenÃ¼z gÃ¶rsel
  seÃ§ilmedi"; return; } fileCount.textContent = selectedFiles.length + " dosya
  seÃ§ildi"; selectedFiles.forEach((file, index) => { const reader = new
  FileReader(); reader.onload = (e) => { const box =
  document.createElement("div"); box.className = "preview-item"; const img =
  document.createElement("img"); img.src = e.target.result; img.className =
  "preview-img"; const removeBtn = document.createElement("button");
  removeBtn.className = "remove-btn"; removeBtn.innerHTML = "Ã—";
  removeBtn.onclick = () => removeImage(index); box.appendChild(img);
  box.appendChild(removeBtn); preview.appendChild(box); };
  reader.readAsDataURL(file); }); } function removeImage(index) {
  selectedFiles.splice(index, 1); const dataTransfer = new DataTransfer();
  selectedFiles.forEach((f) => dataTransfer.items.add(f)); input.files =
  dataTransfer.files; updatePreview(); }
</script>