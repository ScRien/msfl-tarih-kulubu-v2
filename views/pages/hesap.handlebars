<link rel="stylesheet" href="/css/hesap.css" />

<section class="account-wrapper">

  <!-- SOL MENÃœ -->
  <aside class="account-sidebar">

    <a 
      href="/@{{user.username}}" 
      class="public-profile-btn"
    >
      Profilimi GÃ¶rÃ¼ntÃ¼le â†’
    </a>

    <div class="sidebar-category">Hesap</div>
    <button class="sidebar-item active" data-target="profile">Profil Bilgileri</button>

    <div class="sidebar-category">Hesap AyarlarÄ±</div>
    <button class="sidebar-item disabled">Tema AyarlarÄ± (YakÄ±nda)</button>
    <button class="sidebar-item disabled">Bildirimler (YakÄ±nda)</button>

    <div class="sidebar-category">Profil MedyasÄ±</div>
    <button class="sidebar-item" data-target="media">Profil FotoÄŸraflarÄ±</button>

    <div class="sidebar-category">Sosyal</div>
    <button class="sidebar-item" data-target="social">Sosyal Medya</button>

    <div class="sidebar-category">Gizlilik &amp; GÃ¼venlik</div>
    <button class="sidebar-item" data-target="password">Åifre DeÄŸiÅŸtir</button>
    <button class="sidebar-item" data-target="cookies">Ã‡erez AyarlarÄ±</button>
    <button class="sidebar-item" data-target="data-usage">Veri KullanÄ±mÄ±</button>
    <button class="sidebar-item" data-target="devices" disabled>GiriÅŸ YapÄ±lan Cihazlar (YakÄ±nda)</button>
    <button class="sidebar-item danger" data-target="delete">HesabÄ± Sil</button>
    <button class="sidebar-item" data-target="policies">Site PolitikalarÄ±</button>

    <div class="sidebar-category">GeliÅŸmiÅŸ GÃ¼venlik</div>
    <button class="sidebar-item disabled">2FA DoÄŸrulama (YakÄ±nda)</button>
    <button class="sidebar-item disabled">Oturum YÃ¶netimi (YakÄ±nda)</button>

  </aside>

  <!-- SAÄ Ä°Ã‡ERÄ°K -->
  <main class="account-content">

    {{#if error}}
      <div class="account-alert error">âŒ {{error}}</div>
    {{/if}}

    {{#if success}}
      <div class="account-alert success">âœ… {{success}}</div>
    {{/if}}

    <!-- PROFÄ°L -->
    <div class="content-box" id="profile" style="display: block;">
      <h2 class="title">Profil Bilgileri</h2>
      <p class="desc">Bilgileriniz gÃ¼vende. DilediÄŸiniz zaman gÃ¼ncelleyebilirsiniz.</p>

      <form action="/hesap/profil" method="POST">
        
        <div class="form-group">
          <label>KullanÄ±cÄ± AdÄ±</label>
          <input type="text" value="{{user.username}}" disabled />
          <span class="info">KullanÄ±cÄ± adÄ± deÄŸiÅŸtirilemez.</span>
        </div>

        <div class="form-group">
          <label>Ad</label>
          <input type="text" name="name" value="{{user.name}}" />
        </div>

        <div class="form-group">
          <label>Soyad</label>
          <input type="text" name="surname" value="{{user.surname}}" />
        </div>

        <div class="form-group">
          <label>E-posta</label>
          <input type="email" name="email" value="{{user.email}}" />
          <span class="info">E-posta doÄŸrulama sistemi ileride eklenecek.</span>
        </div>

        <!-- BÄ°YOGRAFÄ° -->
        <div class="form-group">
          <label>Biyografi</label>
          <textarea 
            name="bio" 
            rows="4" 
            maxlength="200"
            placeholder="Kendinizi tanÄ±tan kÄ±sa bir yazÄ±..."
          >{{user.bio}}</textarea>

          <div class="bio-hint">
            <span>200 karakter sÄ±nÄ±rÄ±</span>
          </div>
        </div>

        <div class="btn-group">
          <button type="submit" class="btn save">Kaydet</button>
          <button type="reset" class="btn cancel">Ä°ptal</button>
        </div>
      </form>
    </div>

    <!-- SOSYAL MEDYA -->
    <div class="content-box" id="social">
      <h2 class="title">Sosyal Medya BaÄŸlantÄ±larÄ±</h2>
      <p class="desc">Sosyal medya linklerin profilinde gÃ¶rÃ¼necektir.</p>

      <form action="/hesap/social" method="POST">

        <div class="form-group">
          <label>Instagram</label>
          <input type="text" name="instagram" placeholder="@kullanici" 
            value="{{user.social.instagram}}" />
        </div>

        <div class="form-group">
          <label>X (Twitter)</label>
          <input type="text" name="x" placeholder="@kullanici"
            value="{{user.social.x}}" />
        </div>

        <div class="form-group">
          <label>GitHub</label>
          <input type="text" name="github" placeholder="github.com/kullanici"
            value="{{user.social.github}}" />
        </div>

        <div class="btn-group">
          <button type="submit" class="btn save">Kaydet</button>
          <button type="reset" class="btn cancel">Ä°ptal</button>
        </div>

      </form>
    </div>

    <!-- PROFIL MEDYASI -->
    <div class="content-box" id="media">
      <h2 class="title">Profil FotoÄŸraflarÄ±</h2>
      <p class="desc">Profil fotoÄŸrafÄ± ve kapak fotoÄŸrafÄ±nÄ±zÄ± buradan yÃ¶netebilirsiniz.</p>

      <!-- AVATAR -->
      <div class="media-section">
        <h3 class="media-title">Profil FotoÄŸrafÄ±</h3>

        <img 
          id="avatar-preview"
          class="media-avatar-preview"
          alt="Avatar"
          src="{{#if user.avatar}}{{user.avatar}}{{else}}/img/default-avatar.png{{/if}}"
        />

        <p class="info">
          Ã–nerilen boyut: 300Ã—300 px (kare).
        </p>

        <form action="/hesap/avatar-yukle" method="POST" enctype="multipart/form-data">
          <input 
            id="avatar-input"
            type="file" 
            name="avatar" 
            accept="image/*" 
            class="media-input" 
            required 
          />
          <button class="btn save" type="submit">Profil FotoÄŸrafÄ±nÄ± GÃ¼ncelle</button>
        </form>
      </div>

      <!-- KAPAK FOTOÄRAFI -->
      <div class="media-section" style="margin-top: 32px;">
        <h3 class="media-title">Kapak FotoÄŸrafÄ±</h3>

        <img 
          id="cover-preview"
          class="media-cover-preview"
          alt="Kapak FotoÄŸrafÄ±"
          src="{{#if user.coverPhoto}}{{user.coverPhoto}}{{else}}/img/default-cover.jpg{{/if}}"
        />

        <p class="info">
          Ã–nerilen boyut: 1200Ã—280 px yatay gÃ¶rsel.
        </p>

        <form action="/hesap/kapak-yukle" method="POST" enctype="multipart/form-data">
          <input 
            id="cover-input"
            type="file" 
            name="cover" 
            accept="image/*" 
            class="media-input" 
            required 
          />
          <button class="btn save" type="submit">Kapak FotoÄŸrafÄ±nÄ± GÃ¼ncelle</button>
        </form>
      </div>

    </div>

    <!-- ÅÄ°FRE -->
    <div class="content-box" id="password">
      <h2 class="title">Åifre DeÄŸiÅŸtir</h2>
      <p class="desc">Mail adresine doÄŸrulama kodu gÃ¶nderilecek.</p>

      <!-- 1) KOD GÃ–NDERME FORMU -->
      <form action="/hesap/sifre-kod" method="POST" class="form-group">
        <button class="btn save" type="submit">
          <i class="fa-solid fa-paper-plane"></i> Mailime Kod GÃ¶nder
        </button>
      </form>

      <!-- 2) KOD DOÄRULAMA KUTUSU -->
      <div id="verifyBox" style="display:none; margin-top:20px;">
        <h3 class="subtitle">DoÄŸrulama Kodu</h3>

        <form action="/hesap/sifre-kod-dogrula-form" method="POST">
          <input type="text" name="code" placeholder="6 haneli kodu girin" required class="input" />

          <button class="btn green" type="submit">
            <i class="fa-solid fa-lock"></i> Kodu DoÄŸrula
          </button>
        </form>
      </div>
            <!-- 3) YENÄ° ÅÄ°FRE FORMU -->
      <div id="newPasswordBox" style="display:none; margin-top:25px;">
        <h3 class="subtitle">Yeni Åifre OluÅŸtur</h3>

        <form action="/hesap/sifre-yeni" method="POST">
          <input type="password" name="password1" placeholder="Yeni Åifre" required class="input" />
          <input type="password" name="password2" placeholder="Yeni Åifre Tekrar" required class="input" />

          <button class="btn save" type="submit">
            <i class="fa-solid fa-unlock-keyhole"></i> Åifreyi GÃ¼ncelle
          </button>
        </form>
      </div>
    </div>


    <!-- Ã‡EREZLER -->
    <div class="content-box" id="cookies">
      <h2 class="title">Ã‡erez AyarlarÄ±</h2>
      <p class="desc">TarayÄ±cÄ± Ã§erezleri kullanÄ±cÄ± deneyimini iyileÅŸtirmeye yardÄ±mcÄ± olur.</p>

      <form action="/hesap/cookies" method="POST">
        <div class="toggle-row">
          <label>Gerekli Ã‡erezler</label>
          <input type="checkbox" checked disabled />
        </div>

        <div class="toggle-row">
          <label>Analitik Ã‡erezler</label>
          <label class="switch">
            <input
              type="checkbox"
              name="analyticsCookies"
              {{#if user.analyticsCookies}}checked{{/if}}
            />
            <span class="slider"></span>
          </label>
        </div>

        <div class="toggle-row">
          <label>KiÅŸiselleÅŸtirme Ã‡erezleri</label>
          <label class="switch">
            <input
              type="checkbox"
              name="personalizationCookies"
              {{#if user.personalizationCookies}}checked{{/if}}
            />
            <span class="slider"></span>
          </label>
        </div>

        <div class="btn-group">
          <button type="submit" class="btn save">Kaydet</button>
          <button type="reset" class="btn cancel">Ä°ptal</button>
        </div>
      </form>
    </div>

    <!-- VERÄ° KULLANIMI -->
    <div class="content-box" id="data-usage">
      <h2 class="title">Veri KullanÄ±mÄ±</h2>

      <form action="/hesap/data-usage" method="POST">
        <div class="toggle-row">
          <label>Hizmet kalitesi iÃ§in anonim kullanÄ±m verisi</label>
          <label class="switch">
            <input
              type="checkbox"
              name="serviceDataUsage"
              {{#if user.serviceDataUsage}}checked{{/if}}
            />
            <span class="slider"></span>
          </label>
        </div>

        <div class="toggle-row">
          <label>KiÅŸiselleÅŸtirilmiÅŸ iÃ§erik Ã¶nerileri</label>
          <label class="switch">
            <input
              type="checkbox"
              name="personalizedContent"
              {{#if user.personalizedContent}}checked{{/if}}
            />
            <span class="slider"></span>
          </label>
        </div>

        <div class="btn-group">
          <button type="submit" class="btn save">Kaydet</button>
          <button type="reset" class="btn cancel">Ä°ptal</button>
        </div>
      </form>
    </div>

    <!-- CÄ°HAZLAR -->
    <div class="content-box" id="devices">
      <h2 class="title">GiriÅŸ YapÄ±lan Cihazlar</h2>
      <p class="desc">
        Bu liste ÅŸu an Ã¶rnek verilerle dolu. Backend eklendiÄŸinde giriÅŸ yaptÄ±ÄŸÄ±nÄ±z gerÃ§ek cihazlar burada gÃ¶rÃ¼necek.
      </p>

      <table class="device-table">
        <thead>
          <tr>
            <th>Cihaz</th>
            <th>Konum</th>
            <th>Tarih</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Chrome â€“ Windows 11</td>
            <td>Ä°stanbul</td>
            <td>14/11/2025</td>
          </tr>
          <tr>
            <td>Safari â€“ iPhone 13</td>
            <td>KadÄ±kÃ¶y</td>
            <td>10/11/2025</td>
          </tr>
          <tr>
            <td>Firefox â€“ Ubuntu</td>
            <td>BeÅŸiktaÅŸ</td>
            <td>02/11/2025</td>
          </tr>
        </tbody>
      </table>

      <button class="btn save" style="margin-top: 25px;" disabled>
        TÃ¼m Cihazlardan Ã‡Ä±kÄ±ÅŸ Yap (YakÄ±nda)
      </button>
    </div>

    <!-- HESAP SÄ°L -->
    <div class="content-box" id="delete">
      <h2 class="title danger">HesabÄ± Sil</h2>

      <p class="warn">
        Bu iÅŸlem <b>geri alÄ±namaz</b>. HesabÄ±nÄ±zÄ± silmeden Ã¶nce tÃ¼m verilerinizi indirmenizi Ã¶neririz.
      </p>

      <form action="/hesap/sil" method="POST" onsubmit="return confirm('HesabÄ±nÄ±zÄ± VE tÃ¼m iÃ§eriklerinizi kalÄ±cÄ± olarak silmek istediÄŸinize emin misiniz?');">
        <button class="danger-btn">HesabÄ± KalÄ±cÄ± Olarak Sil</button>
      </form>
    </div>
    
        <!-- SÄ°TE POLÄ°TÄ°KALARI -->
    <div class="content-box" id="policies">
      <h2 class="title">Site PolitikalarÄ±</h2>
      <p class="desc">Platformumuzun gizlilik, veri politikasÄ± ve kullanÄ±m ÅŸartlarÄ±yla ilgili tÃ¼m resmi bilgilere aÅŸaÄŸÄ±dan ulaÅŸabilirsiniz.</p>

      <!-- KVKK -->
      <div class="policy-card">
        <h3 class="policy-title">ğŸ“˜ KVKK AydÄ±nlatma Metni</h3>
        <p>KiÅŸisel verilerinizin hangi amaÃ§larla iÅŸlendiÄŸi, nasÄ±l saklandÄ±ÄŸÄ± ve yasal haklarÄ±nÄ±z hakkÄ±nda detaylÄ± bilgi iÃ§erir.</p>
        <a href="/kvkk" target="_blank" class="policy-link">KVKK Metnini AÃ§ â†’</a>
      </div>

      <!-- GÄ°ZLÄ°LÄ°K -->
      <div class="policy-card">
        <h3 class="policy-title">ğŸ”’ Gizlilik PolitikasÄ±</h3>
        <p>Verilerinizin gÃ¼venliÄŸi, gizlilik tedbirleri ve dijital koruma mekanizmalarÄ± hakkÄ±nda resmi bilgilendirme saÄŸlar.</p>
        <a href="/gizlilik" target="_blank" class="policy-link">Gizlilik PolitikasÄ±nÄ± AÃ§ â†’</a>
      </div>

      <!-- KULLANIM ÅARTLARI -->
      <div class="policy-card">
        <h3 class="policy-title">ğŸ“„ KullanÄ±m ÅartlarÄ±</h3>
        <p>Platformu kullanÄ±rken uymanÄ±z gereken kurallar, yÃ¼kÃ¼mlÃ¼lÃ¼kler ve haklarÄ±nÄ±zÄ± aÃ§Ä±klayan resmi metindir.</p>
        <a href="/kullanim-sartlari" target="_blank" class="policy-link">KullanÄ±m ÅartlarÄ±nÄ± AÃ§ â†’</a>
      </div>

    </div>

    </main>
  </section>

<script src="/js/hesap.js"></script>